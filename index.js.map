{"version":3,"file":"index.js","sources":["../src/main.js"],"sourcesContent":["`use strict`; // Код у суворому режимі\n\n// Підключаємо бібліотеки\nimport iziToast from 'izitoast';\n// import 'izitoast/dist/css/iziToast.min.css'; // Стилі iziToast підключив через імпорт в styles.css\nimport SimpleLightbox from 'simplelightbox';\n// import 'simplelightbox/dist/simple-lightbox.min.css'; // Стилі iziToast підключив через імпорт в styles.css\n\nconst searchFormEl = document.querySelector('.js-search-form');\nconst galleryEl = document.querySelector('.js-gallery');\nconst loaderEl = document.querySelector('.js-loader');\n\nlet lightbox = new SimpleLightbox('.gallery a', {\n  captions: true, // Включити підписи\n  captionsData: 'alt', // Джерело підпису: атрибут alt\n  captionDelay: 250, // Затримка перед відображенням підпису\n  animationSpeed: 300, // Швидкість анімації\n  overlayOpacity: 0.8, // Прозорість фону\n});\n\nconst createGalleryCardTemplate = imgInfo => {\n  return `\n    <li class=\"gallery-item gallery-card\">\n      <a class=\"gallery-link\" href=\"${imgInfo.largeImageURL}\">\n        <img\n          class=\"gallery-image gallery-img\"\n          src=\"${imgInfo.webformatURL}\"\n          alt=\"${imgInfo.tags}\"\n        />\n        <div class=\"gallery-info\">\n          <div class=\"info-item\">\n            <p>Likes</p>\n            <span>${imgInfo.likes}</span>\n          </div>\n          <div class=\"info-item\">\n            <p>Views</p>\n            <span>${imgInfo.views}</span>\n          </div>\n          <div class=\"info-item\">\n            <p>Comments</p>\n            <span>${imgInfo.comments}</span>\n          </div>\n          <div class=\"info-item\">\n            <p>Downloads</p>\n            <span>${imgInfo.downloads}</span>\n          </div>\n        </div>\n      </a>\n    </li>`;\n};\n\nconst onSearchFormSubmit = event => {\n  event.preventDefault();\n\n  const searchedQuery = event.currentTarget.elements.user_query.value.trim();\n\n  if (searchedQuery === '') {\n    iziToast.error({\n      title: 'Error',\n      message: `❌ Поле має бути заповнено!`,\n      position: 'topRight',\n    });\n\n    return;\n  }\n\n  galleryEl.innerHTML = ''; // Очищуємо галерею\n  loaderEl.style.display = 'block'; // Показуємо індикатор завантаження\n\n  fetch(\n    `https://pixabay.com/api/?key=48208866-6baf83551ffafce9b15eedbf6&q=${searchedQuery}&image_type=photo&orientation=horizontal&safesearch=true`\n  )\n    .then(response => {\n      if (!response.ok) {\n        throw new Error(response.status);\n      }\n\n      return response.json();\n    })\n    .then(data => {\n      loaderEl.style.display = 'none'; // Ховаємо індикатор завантаження\n\n      if (data.hits.length === 0) {\n        iziToast.error({\n          title: 'Error',\n          message: `❌ Sorry, there are no images matching your search query. Please try again!`,\n          position: 'topRight',\n        });\n\n        // galleryEl.innerHTML = '';\n\n        searchFormEl.reset();\n\n        return;\n      }\n\n      const galleryTemplate = data.hits\n        .map(el => createGalleryCardTemplate(el))\n        .join('');\n\n      galleryEl.innerHTML = galleryTemplate;\n\n      lightbox.refresh(); // Оновлюємо SimpleLightbox\n    })\n    .catch(err => {\n      loaderEl.style.display = 'none'; // Ховаємо індикатор завантаження\n      iziToast.error({\n        title: 'Error',\n        message:\n          '❌ An error occurred while fetching data. Please try again later.',\n        position: 'topRight',\n      });\n      console.log(err);\n    });\n};\n\nsearchFormEl.addEventListener('submit', onSearchFormSubmit);\n"],"names":["searchFormEl","galleryEl","loaderEl","lightbox","SimpleLightbox","createGalleryCardTemplate","imgInfo","onSearchFormSubmit","event","searchedQuery","iziToast","response","data","galleryTemplate","el","err"],"mappings":"iyBAQA,MAAMA,EAAe,SAAS,cAAc,iBAAiB,EACvDC,EAAY,SAAS,cAAc,aAAa,EAChDC,EAAW,SAAS,cAAc,YAAY,EAEpD,IAAIC,EAAW,IAAIC,EAAe,aAAc,CAC9C,SAAU,GACV,aAAc,MACd,aAAc,IACd,eAAgB,IAChB,eAAgB,EAClB,CAAC,EAED,MAAMC,EAA4BC,GACzB;AAAA;AAAA,sCAE6BA,EAAQ,aAAa;AAAA;AAAA;AAAA,iBAG1CA,EAAQ,YAAY;AAAA,iBACpBA,EAAQ,IAAI;AAAA;AAAA;AAAA;AAAA;AAAA,oBAKTA,EAAQ,KAAK;AAAA;AAAA;AAAA;AAAA,oBAIbA,EAAQ,KAAK;AAAA;AAAA;AAAA;AAAA,oBAIbA,EAAQ,QAAQ;AAAA;AAAA;AAAA;AAAA,oBAIhBA,EAAQ,SAAS;AAAA;AAAA;AAAA;AAAA,WAO/BC,EAAqBC,GAAS,CAClCA,EAAM,eAAc,EAEpB,MAAMC,EAAgBD,EAAM,cAAc,SAAS,WAAW,MAAM,OAEpE,GAAIC,IAAkB,GAAI,CACxBC,EAAS,MAAM,CACb,MAAO,QACP,QAAS,6BACT,SAAU,UAChB,CAAK,EAED,MACD,CAEDT,EAAU,UAAY,GACtBC,EAAS,MAAM,QAAU,QAEzB,MACE,qEAAqEO,CAAa,0DACnF,EACE,KAAKE,GAAY,CAChB,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAMA,EAAS,MAAM,EAGjC,OAAOA,EAAS,MACtB,CAAK,EACA,KAAKC,GAAQ,CAGZ,GAFAV,EAAS,MAAM,QAAU,OAErBU,EAAK,KAAK,SAAW,EAAG,CAC1BF,EAAS,MAAM,CACb,MAAO,QACP,QAAS,6EACT,SAAU,UACpB,CAAS,EAIDV,EAAa,MAAK,EAElB,MACD,CAED,MAAMa,EAAkBD,EAAK,KAC1B,IAAIE,GAAMT,EAA0BS,CAAE,CAAC,EACvC,KAAK,EAAE,EAEVb,EAAU,UAAYY,EAEtBV,EAAS,QAAO,CACtB,CAAK,EACA,MAAMY,GAAO,CACZb,EAAS,MAAM,QAAU,OACzBQ,EAAS,MAAM,CACb,MAAO,QACP,QACE,mEACF,SAAU,UAClB,CAAO,EACD,QAAQ,IAAIK,CAAG,CACrB,CAAK,CACL,EAEAf,EAAa,iBAAiB,SAAUO,CAAkB"}